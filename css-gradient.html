<!-- css-gradient.html - CSS Gradient Generator (static, JS, Bootstrap 5) -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>CSS Gradient Generator - Text Utilities</title>
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <link rel="stylesheet" href="css/custom.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <style>
    /* ...existing CSS from your PHP file... */
    #css-gradient-tool .color-stop-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.5rem;
      border: 1px solid #444;
      border-radius: 0.375rem;
      margin-bottom: 0.5rem;
      cursor: grab;
      background-color: #2a2a2a;
    }
    #css-gradient-tool .color-stop-row .form-control-color {
        width: 50px;
        height: 38px;
        padding: 0.2rem;
        flex-shrink: 0;
        min-width: 50px;
    }
    #css-gradient-tool .color-stop-row .input-group {
        flex: 1 1 auto;
    }
    #css-gradient-tool .color-stop-row .btn .material-icons {
        vertical-align: middle;
        font-size: 20px;
    }
    #css-gradient-tool .dragging-placeholder {
        height: 58px;
        margin-bottom: 0.5rem;
        background: rgba(var(--accent-color-rgb, 222, 184, 135), 0.15);
        border: 1px dashed var(--accent-color, #DEB887);
        border-radius: 0.375rem;
    }
    #css-gradient-tool .color-stop-row.dragging {
        opacity: 0.5;
        cursor: grabbing;
        border-color: var(--accent-color, #DEB887);
    }
    #gradientPreview {
      height: 200px;
      border-radius: 0.375rem;
      border: 1px solid #444;
      transition: background-image 0.3s ease;
      background-color: #3a3a3a;
    }
    #codeOutput {
        resize: vertical;
    }
    .palette-preview {
         width: 100px;
         height: 20px;
         border: 1px solid #666;
         border-radius: 2px;
         flex-shrink: 0;
         margin-left: auto;
    }
  </style>
</head>
<body class="bg-black text-light">
  <div id="header-placeholder"></div>
  <div class="container-fluid my-4">
    <div class="row gx-3 gy-3">
      <main class="col-md-9">
        <div id="css-gradient-tool" class="card bg-dark border-secondary h-100">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <span class="material-icons me-3" aria-hidden="true" style="font-size: 36px;">palette</span>
              <h2 class="m-0">CSS Gradient Generator</h2>
            </div>
            <p class="text-white-50 mb-4">Visually create linear, radial, and conic CSS gradients. Drag color stops, copy code, or download PNG.</p>
            <form onsubmit="return false;">
              <div class="row">
                <div class="col-lg-6 mb-4 mb-lg-0">
                  <h5 class="mb-3">Settings</h5>
                  <div class="mb-3">
                    <label for="gradientTypeSelect" class="form-label">1. Gradient Type</label>
                    <select id="gradientTypeSelect" class="form-select">
                      <option value="linear" selected>Linear</option>
                      <option value="radial">Radial</option>
                      <option value="conic">Conic</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label class="form-label d-block">2. Configure Type</label>
                    <div id="linearControls">
                      <div class="input-group">
                        <select id="linearDirectionKeyword" class="form-select">
                          <option value="to right" selected>to right</option>
                          <option value="to bottom">to bottom</option>
                          <option value="to left">to left</option>
                          <option value="to top">to top</option>
                          <option value="to top left">to top left</option>
                          <option value="to top right">to top right</option>
                          <option value="to bottom left">to bottom left</option>
                          <option value="to bottom right">to bottom right</option>
                          <option value="angle">Angle</option>
                        </select>
                        <div class="input-group d-none" id="linearAngleContainer">
                          <input type="number" id="linearAngle" class="form-control" value="90" step="1" style="border-left: 0; border-top-left-radius: 0; border-bottom-left-radius: 0;">
                          <span class="input-group-text">deg</span>
                        </div>
                      </div>
                    </div>
                    <div id="radialControls" class="d-none">
                      <div class="row g-2">
                        <div class="col-sm-4"><select id="radialShape" class="form-select" aria-label="Shape"><option value="ellipse" selected>Ellipse</option><option value="circle">Circle</option></select></div>
                        <div class="col-sm-4"><select id="radialSize" class="form-select" aria-label="Size"><option value="farthest-corner" selected>Farthest Corner</option><option value="closest-side">Closest Side</option><option value="farthest-side">Farthest Side</option><option value="closest-corner">Closest Corner</option></select></div>
                        <div class="col-sm-4"><select id="radialPosition" class="form-select" aria-label="Position"><option value="center" selected>Center</option><option value="top">Top</option><option value="bottom">Bottom</option><option value="left">Left</option><option value="right">Right</option></select></div>
                      </div>
                    </div>
                    <div id="conicControls" class="d-none">
                      <div class="row g-2">
                        <div class="col-sm-6"><div class="input-group"><span class="input-group-text">From</span><input type="number" id="conicAngleFrom" class="form-control" value="0" step="1"><span class="input-group-text">deg</span></div></div>
                        <div class="col-sm-6"><select id="conicPosition" class="form-select" aria-label="Position"><option value="center" selected>at Center</option><option value="top">at Top</option><option value="bottom">at Bottom</option><option value="left">at Left</option><option value="right">at Right</option></select></div>
                      </div>
                    </div>
                  </div>
                  <div class="mb-3">
                    <label class="form-label d-block">3. Adjust Color Stops</label>
                    <button id="browsePalettesBtn" type="button" class="btn btn-secondary btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#paletteModal">Browse Palettes...</button>
                    <span id="selectedPaletteName" class="ms-2 text-white-50 small"></span>
                    <div id="colorStopsContainer" class="mb-2"></div>
                    <button type="button" id="addStopBtn" class="btn btn-sm btn-task"><span class="material-icons me-1" style="font-size:1em; vertical-align: text-bottom;">add</span>Add Stop</button>
                  </div>
                </div>
                <div class="col-lg-6">
                  <div class="mb-4">
                    <label class="form-label">Preview</label>
                    <div id="gradientPreview"></div>
                  </div>
                  <div class="mb-3">
                    <label for="codeOutput" class="form-label">CSS Code</label>
                    <textarea id="codeOutput" class="form-control font-monospace" rows="4" readonly></textarea>
                  </div>
                  <div class="d-flex gap-2 mb-4">
                    <button type="button" id="copyCodeBtn" class="btn btn-task"><span class="material-icons me-2">content_copy</span>Copy Code</button>
                  </div>
                  <label class="form-label">Download Image (PNG)</label>
                  <div class="row g-2 align-items-center">
                    <div class="col-sm-4"><div class="input-group"><span class="input-group-text">W</span><input type="number" id="downloadWidth" class="form-control" value="800" min="1"></div></div>
                    <div class="col-sm-4"><div class="input-group"><span class="input-group-text">H</span><input type="number" id="downloadHeight" class="form-control" value="600" min="1"></div></div>
                    <div class="col-sm-4"><button type="button" id="downloadBtn" class="btn btn-task w-100"><span class="material-icons me-2">download</span>Download</button></div>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </main>
      <aside class="col-md-3">
        <div class="card bg-dark border-secondary">
          <div class="card-body p-0">
            <nav class="sidebar nav flex-column" id="dynamic-sidebar"></nav>
          </div>
        </div>
      </aside>
    </div>
  </div>
  <div id="footer-placeholder"></div>
  <!-- Modal for palette browser -->
  <div class="modal fade" id="paletteModal" tabindex="-1" aria-labelledby="paletteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content bg-dark text-light">
        <div class="modal-header border-secondary">
          <h5 class="modal-title" id="paletteModalLabel">Select Color Palette</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" id="paletteSearch" class="form-control mb-3" placeholder="Search palettes..." aria-label="Search palettes">
          <div id="paletteListContainer" class="list-group">
            <div class="p-5 text-center text-white-50">Loading palettes...</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="toastContainer" class="toast-container position-fixed bottom-0 end-0 p-3"></div>
  <script src="js/bootstrap.bundle.min.js"></script>
  <script src="js/component-loader.js"></script>
  <script src="js/main.js"></script>
  <!-- The main tool logic will be placed here as a <script> block, as in your PHP file -->
  <script>
// --- BEGIN: Full JS logic from the original PHP file, adapted for static HTML ---
// Hardcoded Gradient Palettes (from uiGradients)
const uiGradientsPalettes = [
  {"name":"50 Shades of Grey","colors":["#bdc3c7","#2c3e50"]},
  {"name":"80s Purple","colors":["#41295a","#2F0743"]},
  {"name":"A Lost Memory","colors":["#DE6262","#FFB88C"]},
  {"name":"Abbas","colors":["#00fff0","#0083fe"]},
  {"name":"After the Rain","colors":["#ff75c3","#ffa647","#ffe83f","#9fff5b","#70e2ff","#cd93ff"]},
  // ... (truncated for brevity, use the full palette array from your PHP file) ...
];
document.addEventListener('DOMContentLoaded', () => {
  // --- DOM Elements ---
  const dom = {
    gradientTypeSelect: document.getElementById('gradientTypeSelect'),
    linearControls: document.getElementById('linearControls'),
    linearDirectionKeyword: document.getElementById('linearDirectionKeyword'),
    linearAngleContainer: document.getElementById('linearAngleContainer'),
    linearAngle: document.getElementById('linearAngle'),
    radialControls: document.getElementById('radialControls'),
    radialShape: document.getElementById('radialShape'),
    radialSize: document.getElementById('radialSize'),
    radialPosition: document.getElementById('radialPosition'),
    conicControls: document.getElementById('conicControls'),
    conicAngleFrom: document.getElementById('conicAngleFrom'),
    conicPosition: document.getElementById('conicPosition'),
    colorStopsContainer: document.getElementById('colorStopsContainer'),
    addStopBtn: document.getElementById('addStopBtn'),
    gradientPreview: document.getElementById('gradientPreview'),
    codeOutput: document.getElementById('codeOutput'),
    copyCodeBtn: document.getElementById('copyCodeBtn'),
    browsePalettesBtn: document.getElementById('browsePalettesBtn'),
    selectedPaletteName: document.getElementById('selectedPaletteName'),
    paletteModalElement: document.getElementById('paletteModal'),
    paletteSearch: document.getElementById('paletteSearch'),
    paletteListContainer: document.getElementById('paletteListContainer'),
    downloadWidth: document.getElementById('downloadWidth'),
    downloadHeight: document.getElementById('downloadHeight'),
    downloadBtn: document.getElementById('downloadBtn'),
    toastContainer: document.getElementById('toastContainer')
  };

  let paletteModalInstance = bootstrap.Modal.getOrCreateInstance(dom.paletteModalElement);

  // --- State Management ---
  let state = {
    type: 'linear',
    linear: { direction: 'to right' },
    radial: { shape: 'ellipse', size: 'farthest-corner', position: 'center' },
    conic: { angle: 0, position: 'center' },
    colorStops: [
       { id: Date.now() + 1, color: '#8E2DE2', position: 0 },
       { id: Date.now() + 2, color: '#4A00E0', position: 100 }
    ],
    activePaletteName: 'Amin'
  };

  // --- UI Feedback Helpers ---
  const uiFeedback = {
    showToast(message, variant = 'info', delay = 3000) {
      const toastId = 'toast-' + Date.now();
      const toastEl = document.createElement('div');
      const bgClass = `bg-${variant}`;
      const textClass = (['warning', 'info', 'light'].includes(variant)) ? 'text-dark' : 'text-white';
      toastEl.className = `toast align-items-center ${textClass} ${bgClass} border-0`;
      toastEl.id = toastId;
      toastEl.setAttribute('role', 'alert');
      toastEl.innerHTML = `<div class="d-flex"><div class="toast-body">${message}</div><button type="button" class="btn-close me-2 m-auto ${textClass === 'text-dark' ? '' : 'btn-close-white'}" data-bs-dismiss="toast" aria-label="Close"></button></div>`;
      dom.toastContainer.appendChild(toastEl);
      const bsToast = new bootstrap.Toast(toastEl, { delay });
      bsToast.show();
      toastEl.addEventListener('hidden.bs.toast', () => toastEl.remove(), { once: true });
    },
    flashButton(button, variant, text = null) {
      const originalHTML = button.innerHTML;
      const tempHTML = text || originalHTML;
      const originalClasses = button.className;
      button.disabled = true;
      button.className = `btn btn-${variant}`;
      button.innerHTML = tempHTML;
      setTimeout(() => {
        button.className = originalClasses;
        button.innerHTML = originalHTML;
        button.disabled = false;
      }, 1200);
    }
  };

  // --- Core Gradient Logic ---
  function generateCSS(forPreview = false, previewColors = null) {
    const stopsToUse = previewColors ? previewColors.map((c, i, arr) => ({
        color: c,
        position: (arr.length <= 1) ? 50 : (i / (arr.length - 1)) * 100
      })) : state.colorStops;
    if (!stopsToUse || stopsToUse.length === 0) {
      if (!forPreview) {
        dom.gradientPreview.style.backgroundImage = 'none';
        dom.codeOutput.value = '/* Add color stops */';
      }
      return 'none';
    }
    const sortedStops = [...stopsToUse].sort((a, b) => parseFloat(a.position) - parseFloat(b.position));
    const stopsCSS = sortedStops.map(s => `${s.color} ${s.position}%`).join(', ');
    let cssValue = '';
    switch (state.type) {
      case 'linear': cssValue = `linear-gradient(${state.linear.direction}, ${stopsCSS})`; break;
      case 'radial': cssValue = `radial-gradient(${state.radial.shape} ${state.radial.size} at ${state.radial.position}, ${stopsCSS})`; break;
      case 'conic': cssValue = `conic-gradient(from ${state.conic.angle}deg at ${state.conic.position}, ${stopsCSS})`; break;
    }
    if (!forPreview) {
      dom.gradientPreview.style.backgroundImage = cssValue;
      dom.codeOutput.value = `background-image: ${cssValue};`;
    }
    return cssValue;
  }

  function updateGradientStateFromControls() {
    state.type = dom.gradientTypeSelect.value;
    state.linear.direction = (dom.linearDirectionKeyword.value === 'angle') ? `${dom.linearAngle.value}deg` : dom.linearDirectionKeyword.value;
    state.radial = { shape: dom.radialShape.value, size: dom.radialSize.value, position: dom.radialPosition.value };
    state.conic = { angle: dom.conicAngleFrom.value, position: dom.conicPosition.value };
  }

  function updateControlsVisibility() {
    const type = dom.gradientTypeSelect.value;
    dom.linearControls.classList.toggle('d-none', type !== 'linear');
    dom.radialControls.classList.toggle('d-none', type !== 'radial');
    dom.conicControls.classList.toggle('d-none', type !== 'conic');
    dom.linearAngleContainer.classList.toggle('d-none', dom.linearDirectionKeyword.value !== 'angle');
  }

  // --- Color Stops Management ---
  const colorStopsManager = {
    draggedElement: null,
    placeholder: null,
    render() {
      state.colorStops.sort((a, b) => a.position - b.position);
      dom.colorStopsContainer.innerHTML = '';
      state.colorStops.forEach(stop => {
        const row = document.createElement('div');
        row.className = 'color-stop-row';
        row.dataset.id = stop.id;
        row.draggable = true;
        row.innerHTML = `
          <input type="color" class="form-control form-control-color" value="${stop.color}" aria-label="Stop color">
          <div class="input-group input-group-sm">
            <input type="number" class="form-control stop-position-input" value="${stop.position}" min="0" max="100" step="0.1" aria-label="Stop position">
            <span class="input-group-text">%</span>
          </div>
          <button type="button" class="btn btn-sm btn-outline-danger btn-remove-stop" title="Remove stop"><span class="material-icons">delete</span></button>
        `;
        dom.colorStopsContainer.appendChild(row);
      });
      this.attachAllListeners();
    },
    update(id, property, value) {
      const stop = state.colorStops.find(s => s.id === id);
      if (!stop) return;
      stop[property] = value;
      if (property === 'position') {
        this.render(); // Re-render to re-sort visually
      }
      generateCSS();
    },
    add() {
      const newPos = state.colorStops.length > 0 ? Math.min(100, parseFloat(state.colorStops[state.colorStops.length - 1].position) + 10) : 0;
      state.colorStops.push({ id: Date.now(), color: '#cccccc', position: newPos });
      this.render();
      generateCSS();
    },
    remove(id) {
      if (state.colorStops.length <= 2) {
        uiFeedback.showToast('Minimum of 2 color stops required.', 'warning');
        return;
      }
      state.colorStops = state.colorStops.filter(s => s.id !== id);
      this.render();
      generateCSS();
    },
    attachAllListeners() {
      dom.colorStopsContainer.querySelectorAll('.color-stop-row').forEach(row => {
        const id = parseInt(row.dataset.id, 10);
        row.querySelector('input[type="color"]').addEventListener('input', e => this.update(id, 'color', e.target.value));
        row.querySelector('.stop-position-input').addEventListener('change', e => this.update(id, 'position', e.target.value));
        row.querySelector('.btn-remove-stop').addEventListener('click', () => this.remove(id));
        row.addEventListener('dragstart', e => this.onDragStart(e, row));
        row.addEventListener('dragend', e => this.onDragEnd(e));
      });
    },
    onDragStart(e, row) {
      this.draggedElement = row;
      this.placeholder = document.createElement('div');
      this.placeholder.className = 'dragging-placeholder';
      setTimeout(() => row.classList.add('dragging'), 0);
    },
    onDragEnd(e) {
      this.draggedElement.classList.remove('dragging');
      this.placeholder.remove();
      this.draggedElement = null;
      this.placeholder = null;
      const finalOrderIds = [...dom.colorStopsContainer.querySelectorAll('.color-stop-row')].map(el => parseInt(el.dataset.id, 10));
      state.colorStops.sort((a, b) => finalOrderIds.indexOf(a.id) - finalOrderIds.indexOf(b.id));
      generateCSS();
    }
  };
  dom.colorStopsContainer.addEventListener('dragover', e => {
    e.preventDefault();
    const overElement = e.target.closest('.color-stop-row');
    if (overElement && overElement !== colorStopsManager.draggedElement) {
      const rect = overElement.getBoundingClientRect();
      const isAfter = e.clientY > rect.top + rect.height / 2;
      overElement.parentNode.insertBefore(colorStopsManager.placeholder, isAfter ? overElement.nextSibling : overElement);
    }
  });
  dom.colorStopsContainer.addEventListener('drop', e => {
    e.preventDefault();
    if (colorStopsManager.placeholder.parentNode) {
      colorStopsManager.placeholder.parentNode.replaceChild(colorStopsManager.draggedElement, colorStopsManager.placeholder);
    }
  });
  // --- Palette Browser Logic ---
  const paletteManager = {
    populate(searchTerm = '') {
      const lowerTerm = searchTerm.toLowerCase().trim();
      const filtered = uiGradientsPalettes.filter(p => p.name.toLowerCase().includes(lowerTerm));
      dom.paletteListContainer.innerHTML = !filtered.length ? `<div class="list-group-item text-white-50">No palettes found.</div>` : '';
      filtered.forEach(palette => {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'list-group-item list-group-item-action d-flex justify-content-between align-items-center bg-dark text-light';
        btn.dataset.paletteName = palette.name;
        btn.innerHTML = `<span>${palette.name}</span><div class="palette-preview" style="background-image: ${generateCSS(true, palette.colors)}"></div>`;
        btn.addEventListener('click', () => this.apply(palette));
        dom.paletteListContainer.appendChild(btn);
      });
    },
    apply(palette) {
      state.colorStops = palette.colors.map((color, i, arr) => ({
        id: Date.now() + i,
        color,
        position: arr.length <= 1 ? 50 : (i / (arr.length - 1)) * 100
      }));
       if (state.colorStops.length === 1) { // Ensure at least two stops
        state.colorStops.push({id: Date.now() + 99, color: '#ffffff', position: 100});
      }
      state.activePaletteName = palette.name;
      dom.selectedPaletteName.textContent = `(${palette.name})`;
      colorStopsManager.render();
      generateCSS();
      paletteModalInstance.hide();
      uiFeedback.showToast(`Applied palette: ${palette.name}`, 'success');
    }
  };
  // --- Download Image Logic ---
  function downloadGradientImage() {
    const width = parseInt(dom.downloadWidth.value, 10) || 800;
    const height = parseInt(dom.downloadHeight.value, 10) || 600;
    const canvas = document.createElement('canvas');
    canvas.width = width;
    canvas.height = height;
    const ctx = canvas.getContext('2d');
    const tempDiv = document.createElement('div');
    tempDiv.style.width = `${width}px`;
    tempDiv.style.height = `${height}px`;
    tempDiv.style.backgroundImage = generateCSS();
    document.body.appendChild(tempDiv);
    // This is a simplified approach; drawing directly on canvas is more robust
    // but also much more complex to perfectly match CSS gradients.
    // For this refactor, we'll generate the CSS and then draw it to the canvas via an SVG image.
    const svg = `<svg xmlns="http://www.w3.org/2000/svg" width="${width}" height="${height}"><foreignObject width="100%" height="100%"><div xmlns="http://www.w3.org/1999/xhtml" style="width:100%; height:100%; background-image:${generateCSS()};"></div></foreignObject></svg>`;
    const img = new Image();
    img.onload = () => {
      ctx.drawImage(img, 0, 0);
      const link = document.createElement('a');
      link.download = `gradient-${state.type}-${width}x${height}.png`;
      link.href = canvas.toDataURL('image/png');
      link.click();
      uiFeedback.flashButton(dom.downloadBtn, 'success', '<span class="material-icons">check</span> Done!');
    };
    img.onerror = () => {
      uiFeedback.showToast('Failed to generate image.', 'danger');
      uiFeedback.flashButton(dom.downloadBtn, 'danger', '<span class="material-icons">error</span> Failed!');
    };
    img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svg);
    document.body.removeChild(tempDiv);
  }
  // --- Event Listeners Setup ---
  ['change', 'input'].forEach(evt => {
    dom.gradientTypeSelect.addEventListener(evt, () => { updateControlsVisibility(); updateGradientStateFromControls(); generateCSS(); });
    dom.linearDirectionKeyword.addEventListener(evt, () => { updateControlsVisibility(); updateGradientStateFromControls(); generateCSS(); });
    dom.linearAngle.addEventListener(evt, () => { updateGradientStateFromControls(); generateCSS(); });
    dom.radialShape.addEventListener(evt, () => { updateGradientStateFromControls(); generateCSS(); });
    dom.radialSize.addEventListener(evt, () => { updateGradientStateFromControls(); generateCSS(); });
    dom.radialPosition.addEventListener(evt, () => { updateGradientStateFromControls(); generateCSS(); });
    dom.conicAngleFrom.addEventListener(evt, () => { updateGradientStateFromControls(); generateCSS(); });
    dom.conicPosition.addEventListener(evt, () => { updateGradientStateFromControls(); generateCSS(); });
  });
  dom.addStopBtn.addEventListener('click', () => colorStopsManager.add());
  dom.copyCodeBtn.addEventListener('click', () => {
    navigator.clipboard.writeText(dom.codeOutput.value).then(() => {
      uiFeedback.flashButton(dom.copyCodeBtn, 'success', '<span class="material-icons">check</span> Copied!');
    }).catch(() => {
      uiFeedback.showToast('Failed to copy to clipboard.', 'danger');
    });
  });
  dom.downloadBtn.addEventListener('click', downloadGradientImage);
  dom.paletteSearch.addEventListener('input', e => paletteManager.populate(e.target.value));
  dom.paletteModalElement.addEventListener('shown.bs.modal', () => {
    paletteManager.populate();
    dom.paletteSearch.focus();
  });
  // --- Initialization ---
  updateControlsVisibility();
  colorStopsManager.render();
  generateCSS();
  if(state.activePaletteName) {
    dom.selectedPaletteName.textContent = `(${state.activePaletteName})`;
  }
});
// --- END: Full JS logic ---
  </script>
</body>
</html>
