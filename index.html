<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text Utilities</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #121212;
            --bg-secondary: #1e1e1e;
            --bg-tertiary: #252525;
            --text-primary: #e0e0e0;
            --text-secondary: #a0a0a0;
            --border-color: #333;
            --accent: #0d9488;
            --accent-light: #14b8a6;
            --success: #059669;
            --warning: #d97706;
            --error: #dc2626;
        }
        
        [data-theme="light"] {
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --accent: #0d9488;
            --accent-light: #14b8a6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.5;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 2rem;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .logo span {
            color: var(--accent);
        }
        
        .controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        
        .accent-selector {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .color-dropdown {
            padding: 0.25rem 0.5rem;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
            cursor: pointer;
        }
        
        .main-grid {
            display: block;
            min-height: calc(100vh - 120px);
        }
        
        .sidebar {
            background: var(--bg-secondary);
            border-radius: 8px;
            padding: 1rem;
            height: fit-content;
            position: sticky;
            top: 1rem;
        }
        
        .search-box {
            margin-bottom: 1.5rem;
        }
        
        .search-box input {
            width: 100%;
            padding: 0.5rem;
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--text-primary);
        }
        
        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .tool-card {
            display: block;
            background: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
            color: inherit;
            text-decoration: none;
        }
        
        .tool-card:hover {
            border-color: var(--accent);
            transform: translateY(-2px);
        }
        
        .tool-icon {
            width: 40px;
            height: 40px;
            background: var(--accent);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
            color: white;
        }
        
        .tool-card h3 {
            margin-bottom: 0.5rem;
        }
        
        .tool-card p {
            font-size: 0.875rem;
            color: var(--text-secondary);
        }
        
        .tool-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.25rem;
        }
        
        .tool-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        
        .btn-secondary {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }
        
        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .tool-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        @media (max-width: 768px) {
            .main-grid {
                display: block;
            }
            .sidebar {
                position: static;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <span class="material-icons">text_snippet</span>
                <a href="index.html" style="color: inherit; text-decoration: none;">
                    <span>Text Utilities</span>
                </a>
            </div>
            <div class="controls">
                <div class="accent-selector">
                    <span class="material-icons">palette</span>
                    <select id="accentColor" class="color-dropdown">
                        <option value="#0d9488">Teal</option>
                        <option value="#3b82f6">Blue</option>
                        <option value="#8b5cf6">Purple</option>
                        <option value="#10b981">Emerald</option>
                        <option value="#f59e0b">Amber</option>
                        <option value="#ef4444">Red</option>
                        <option value="#ec4899">Soft Pink</option>
                        <option value="#fb7185">Coral</option>
                        <option value="#60a5fa">Cornflower</option>
                        <option value="#7c3aed">Violet</option>
                    </select>
                </div>
                <button id="themeToggle" class="btn btn-secondary">
                    <span class="material-icons">dark_mode</span>
                </button>
            </div>
        </header>

        <main>
            <div id="homeView">
                <div class="tool-grid" id="toolGrid"></div>
            </div>
        </main>
    </div>

    <script>
const tools = [
    { id: 'case-converter', name: 'Case Converter', icon: 'text_format', category: 'text', description: 'Convert text between different cases' },
    { id: 'text-info', name: 'Text Info', icon: 'analytics', category: 'text', description: 'Detailed statistics and readability scores for text' },
    { id: 'line-operations', name: 'Line Operations', icon: 'reorder', category: 'text', description: 'Sort, filter, and manipulate lines of text' },
    { id: 'font-chooser', name: 'Font Chooser', icon: 'text_fields', category: 'text', description: 'Preview fonts, check contrast, and generate CSS snippets' },
    { id: 'ip-info', name: 'IP Info', icon: 'language', category: 'data', description: 'Public IP, provider, location, and device diagnostics' },
    { id: 'font-awesome-chooser', name: 'Font Awesome Chooser', icon: 'code', category: 'data', description: 'Browse Font Awesome icons and generate code snippets' },
    { id: 'google-icons-chooser', name: 'Google Icons Chooser', icon: 'apps', category: 'data', description: 'Browse Google Material icons and generate code snippets' },
    { id: 'color-chooser', name: 'Color Chooser', icon: 'palette', category: 'data', description: 'Pick colors, find matches, and generate code snippets' },
    { id: 'css-unit-converter', name: 'CSS Unit Converter', icon: 'straighten', category: 'convert', description: 'Convert px, em, rem, %, pt, vw, vh with context' },
    { id: 'date-time-info', name: 'Date/Time Info', icon: 'schedule', category: 'data', description: 'View date/time across calendars, formats, and time zones' },
    { id: 'random-numbers', name: 'Random Number Generator', icon: 'casino', category: 'data', description: 'Generate random numbers with range, decimals, uniqueness, and sorting' },
    { id: 'hashing-tool', name: 'Hashing Tool', icon: 'lock', category: 'convert', description: 'Hash, encode, and decode text using various algorithms and formats' },
    { id: 'json-tool', name: 'JSON Tool', icon: 'data_object', category: 'data', description: 'Format, validate, and convert JSON to JSONL format' },
    { id: 'sitemap-generator', name: 'XML Sitemap Generator', icon: 'schema', category: 'data', description: 'Crawl (with optional CORS proxy) and build sitemap.xml' }
];

let recentTools = JSON.parse(localStorage.getItem('recentTools') || '[]');
const toolGrid = document.getElementById('toolGrid');
const accentColor = document.getElementById('accentColor');
const themeToggle = document.getElementById('themeToggle');

function renderToolGrid(filter = '', category = 'all') {
    toolGrid.innerHTML = '';
    const filteredTools = [...tools]
        .sort((a, b) => a.name.localeCompare(b.name))
        .filter(tool => {
        const matchesSearch = tool.name.toLowerCase().includes(filter.toLowerCase()) || tool.description.toLowerCase().includes(filter.toLowerCase());
        const matchesCategory = category === 'all' || tool.category === category;
        return matchesSearch && matchesCategory;
    });
    
    filteredTools.forEach(tool => {
        const card = document.createElement('a');
        card.className = 'tool-card';
        card.href = `${tool.id}.html`;
        card.setAttribute('aria-label', `${tool.name} tool`);
        card.innerHTML = `<div class="tool-icon"><span class="material-icons">${tool.icon}</span></div><h3>${tool.name}</h3><p>${tool.description}</p>`;
        toolGrid.appendChild(card);
    });
    
    if (filteredTools.length === 0) {
        toolGrid.innerHTML = '<p style="grid-column:1/-1;text-align:center;color:var(--text-secondary)">No tools found</p>';
    }
}

function updateRecentTools() {
    const container = document.getElementById('recentToolsList');
    if (!container) return;
    container.innerHTML = '';
    recentTools.slice(0, 5).forEach(toolId => {
        const tool = tools.find(t => t.id === toolId);
        if (tool) {
            const chip = document.createElement('span');
            chip.className = 'tool-chip';
            chip.textContent = tool.name;
            chip.addEventListener('click', () => window.location.href = `${tool.id}.html`);
            container.appendChild(chip);
        }
    });
}

themeToggle.addEventListener('click', () => {
    const currentTheme = document.documentElement.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    themeToggle.innerHTML = `<span class="material-icons">${newTheme === 'dark' ? 'dark_mode' : 'light_mode'}</span>`;
});

accentColor.addEventListener('change', (e) => {
    const color = e.target.value;
    document.documentElement.style.setProperty('--accent', color);
    const r = parseInt(color.slice(1,3), 16) + 20;
    const g = parseInt(color.slice(3,5), 16) + 20;
    const b = parseInt(color.slice(5,7), 16) + 20;
    const lighter = `#${Math.min(r,255).toString(16).padStart(2,'0')}${Math.min(g,255).toString(16).padStart(2,'0')}${Math.min(b,255).toString(16).padStart(2,'0')}`;
    document.documentElement.style.setProperty('--accent-light', lighter);
    localStorage.setItem('accentColor', color);
});

// No search input or filters on this page; always show all tools

// No clear button; keep recent tools untouched

const savedTheme = localStorage.getItem('theme') || 'dark';
document.documentElement.setAttribute('data-theme', savedTheme);
themeToggle.innerHTML = `<span class="material-icons">${savedTheme === 'dark' ? 'dark_mode' : 'light_mode'}</span>`;

const savedColor = localStorage.getItem('accentColor') || '#0d9488';
accentColor.value = savedColor;
document.documentElement.style.setProperty('--accent', savedColor);

renderToolGrid();
updateRecentTools();
    </script>
    <footer class="site-footer">
        <p>&copy; Ian Rastall 2025<br>Contact: moving.form.of.dust@gmail.com<br>Donate: PayPal to merastall@gmail.com</p>
    </footer>
</body>
</html>
