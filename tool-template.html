<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tool Name - Text Utilities</title>
    <script>
        (function () {
            try {
                const storedTheme = localStorage.getItem('theme');
                const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
                const resolvedTheme = storedTheme === 'light' || storedTheme === 'dark'
                    ? storedTheme
                    : (prefersLight ? 'light' : 'dark');
                document.documentElement.setAttribute('data-theme', resolvedTheme);

                const storedAccent = localStorage.getItem('accentColor');
                let normalizedAccent = typeof storedAccent === 'string' ? storedAccent.trim().toLowerCase() : '';
                if (/^#[0-9a-f]{3}$/.test(normalizedAccent)) {
                    normalizedAccent = `#${normalizedAccent[1]}${normalizedAccent[1]}${normalizedAccent[2]}${normalizedAccent[2]}${normalizedAccent[3]}${normalizedAccent[3]}`;
                }

                if (/^#[0-9a-f]{6}$/.test(normalizedAccent)) {
                    const red = parseInt(normalizedAccent.slice(1, 3), 16);
                    const green = parseInt(normalizedAccent.slice(3, 5), 16);
                    const blue = parseInt(normalizedAccent.slice(5, 7), 16);
                    document.documentElement.style.setProperty('--accent', normalizedAccent);
                    document.documentElement.style.setProperty('--accent-rgb', `${red}, ${green}, ${blue}`);
                }
            } catch (_) {
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        })();
    </script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <a href="index.html" style="color: inherit; text-decoration: none;">
                    <span>Text Utilities</span>
                </a>
            </div>
            <nav class="site-network" aria-label="Network sites">
                <a href="https://chessnerd.net" class="site-network-link" target="_blank" rel="noopener noreferrer">
                    <img src="img/chessnerd-icon.png" class="site-network-icon" alt="">
                    <span>Chess Nerd</span>
                    <span class="material-icons" aria-hidden="true">open_in_new</span>
                </a>
                <a href="https://github.com/ianrastall/text-utils" class="site-network-link" target="_blank" rel="noopener noreferrer">
                    <img src="img/github.png" class="site-network-icon" alt="">
                    <span>GitHub</span>
                    <span class="material-icons" aria-hidden="true">open_in_new</span>
                </a>
            </nav>
            <div class="controls">
                <div class="accent-selector">
                    <span class="material-icons">palette</span>
                    <select id="accentColor" class="color-dropdown" aria-label="Accent color"></select>
                </div>
                <button id="themeToggle" class="btn btn-secondary" type="button" aria-label="Toggle theme" aria-pressed="false">
                    <span class="material-icons">dark_mode</span>
                </button>
            </div>
        </header>

        <main>
            <!-- Tool View -->
            <div id="toolView">
                <div class="tool-header">
                    <div class="tool-title">
                        <span class="material-icons" id="toolIcon">code</span>
                        <h2 id="toolName">Tool Name</h2>
                    </div>
                    <div class="tool-actions">
                        <button id="backButton" class="btn btn-secondary btn-compact">
                            <span class="material-icons">arrow_back</span>
                            Back
                        </button>
                        <button id="clearAll" class="btn btn-secondary btn-compact">
                            <span class="material-icons">delete</span>
                            Clear
                        </button>
                        <button id="copyOutput" class="btn btn-secondary btn-compact">
                            <span class="material-icons">content_copy</span>
                            Copy
                        </button>
                    </div>
                </div>
                
                <!-- Tool-specific options -->
                <div class="options-panel" id="toolOptions">
                    <!-- Options will be added here per tool -->
                </div>
                
                <!-- Input/Output -->
                <div class="io-container">
                    <div class="io-panel">
                        <div class="io-label">
                            <span>Input</span>
                            <span class="stats pill muted" id="inputStats">0 chars</span>
                        </div>
                        <textarea id="inputText" placeholder="Paste your text here..."></textarea>
                    </div>
                    <div class="io-panel">
                        <div class="io-label">
                            <span>Output</span>
                            <span class="stats pill muted" id="outputStats">0 chars</span>
                        </div>
                        <textarea id="outputText" class="output" readonly placeholder="Results will appear here..."></textarea>
                    </div>
                </div>
                
                <div class="status-bar">
                    <div id="statusMessage" class="success">Ready</div>
                    <div id="toolStats">No operations yet</div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/theme.js"></script>
    <script>
        // Common utility functions for all tools
        const inputText = document.getElementById('inputText');
        const outputText = document.getElementById('outputText');
        const inputStats = document.getElementById('inputStats');
        const outputStats = document.getElementById('outputStats');
        const statusMessage = document.getElementById('statusMessage');
        const toolStats = document.getElementById('toolStats');
        const copyButton = document.getElementById('copyOutput');
        const clearButton = document.getElementById('clearAll');
        const backButton = document.getElementById('backButton');

        // Update character/line statistics
        function updateStats() {
            const inputLength = inputText.value.length;
            const outputLength = outputText.value.length;
            const inputLines = inputText.value.split('\n').length;
            const outputLines = outputText.value.split('\n').length;
            
            inputStats.textContent = `${inputLength} chars, ${inputLines} lines`;
            outputStats.textContent = `${outputLength} chars, ${outputLines} lines`;
        }

        // Copy output to clipboard
        function copyToClipboard() {
            if (!outputText.value) return;
            
            navigator.clipboard.writeText(outputText.value).then(() => {
                statusMessage.textContent = 'Copied to clipboard!';
                statusMessage.className = 'success';
                setTimeout(() => {
                    statusMessage.textContent = 'Ready';
                }, 2000);
            }).catch(() => {
                statusMessage.textContent = 'Failed to copy';
                statusMessage.className = 'error';
            });
        }

        // Clear all fields
        function clearAll() {
            inputText.value = '';
            outputText.value = '';
            updateStats();
            statusMessage.textContent = 'Cleared';
            statusMessage.className = 'success';
            setTimeout(() => {
                statusMessage.textContent = 'Ready';
            }, 1500);
        }

        // Navigate back to home
        function goBack() {
            window.location.href = 'index.html';
        }

        // Setup common event listeners
        inputText.addEventListener('input', updateStats);
        copyButton.addEventListener('click', copyToClipboard);
        clearButton.addEventListener('click', clearAll);
        backButton.addEventListener('click', goBack);

        // Initialize stats
        updateStats();

        // Tool-specific code goes below this line
        // -------------------------------------------
    </script>
    <footer class="site-footer">
        <p>&copy; Ian Rastall 2025<br>Contact: moving.form.of.dust@gmail.com<br>Donate: PayPal to merastall@gmail.com</p>
    </footer>
</body>
</html>
